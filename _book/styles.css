/* === Fallback Title for .definition (HTML) === */
/* איפוס מונה לכל עמוד/פרק (ב‑Book כל קובץ הוא פרק => מונה נפרד לכל פרק) */
body { counter-reset: defnum; }

/* בסיס התיבה: פס עליון צבעוני, גוף לבן, פינות חדות */
.definition {
  --env-color: #00bcd4;         /* צבע ברירת מחדל להגדרה */
  border: 1px solid var(--env-color);
  border-radius: 0;
  background: #fff;
  margin: 1.25rem 0;
  overflow: hidden;
  counter-increment: defnum;    /* נגדיל מונה לכל בלוק (לכותרת גיבוי) */
}

/* אם Quarto מייצר כותרת אמיתית (.theorem-title) – נעצב אותה */
.definition > .theorem-title {
  background: var(--env-color);
  color: #fff;
  font-weight: 700;
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--env-color);
}

/* כותרת גיבוי: תופיע רק אם אין .theorem-title שנוצר ע״י Quarto */
.definition:not(:has(> .theorem-title))::before {
  content: "הגדרה " counter(defnum);
  display: block;
  background: var(--env-color);
  color: #fff;
  font-weight: 700;
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--env-color);
}

/* גוף התיבה */
.definition > :not(.theorem-title) {
  padding: 0.75rem;
  margin: 0;
}